<!DOCTYPE html>
<html>
<head>
    <title>Solutions to Max Dama Brainteasers</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            background-color: #fff;
            color: #333;
        }

        .container {
            width: 75%;
            margin: auto;
            padding: 20px;
        }

        header {
            background: #003262; 
            color: #FFB515; 
            padding: 30px 0; 
            text-align: center;
            font-family: 'Arial', sans-serif;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2); 
        }

        header h1 {
            margin: 0;
            font-size: 2.2em; 
            font-weight: normal; 
        }

        header a {
            color: #FFB515; 
            text-decoration: none;
            margin: 0 10px;
            font-size: 1.1em; 
            transition: color 0.3s, transform 0.3s; 
        }

        header a:hover {
            color: #fff; 
            transform: scale(1.05); 
        }
        
        ul {
            list-style: none;
            text-align: center;
            padding: 0;
        }

        li {
            display: inline;
            margin-right: 15px;
        }


        h2 {
            color: #003262;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }

        p {
            margin-top: 0;
        }

        .dropdown {
            position: relative;
            display: inline-block;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #f1faee; 
            min-width: 160px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            z-index: 1;
        }

        .dropdown-content a {
            color: #1d3557; 
            padding: 12px 16px;
            text-decoration: none;
            display: block;
            text-align: left;
            font-size: 0.9em;
        }

        .dropdown-content a:hover {background-color: #a8dadc} 

        .dropdown:hover .dropdown-content {
            display: block;
        }
    </style>
</head>
<body>
    <header>
        <h1>Solutions to Max Dama Brainteasers</h1>
        <nav>
            <ul>
                <li class="dropdown">
                    <a href="#market-making-and-betting">Market Making and Betting</a>
                    <div class="dropdown-content">
                        <a href="#basic-bayes">Bayes Coinflip Warmup</a>
                        <a href="#coin-flipping-bet">Optimal Bet on 10,000 Flipped Coins</a>
                        <a href="#dice-sum">Dice Sum to 63</a>
                        <a href="#envelope-swap">Envelope Swap</a>
                    </div>
                </li>
                <li><a href="#probability">Probability</a></li>
                <li><a href="#retention-of-coursework">Retention of Coursework</a></li>
                <li><a href="#mental-math">Mental Math</a></li>
                <li><a href="#pattern-recognition-sequences">Pattern Recognition</a></li>
                <li><a href="#math-and-logic">Math and Logic</a></li>
            </ul>
        </nav>
    </header>

    <div class="container" style="font-family: Arial, sans-serif; background-color: #f2f2f2; padding: 20px; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.1);">
    <h2 id="market-making-and-betting" style="color: #333;">Market Making and Betting</h2>
    <section id="basic-bayes">
        <h3>Bayes Coinflip Warmup</h2>
        <p>
            Flip 98 fair coins and 1 HH coin and 1 TT coin. Given that you see an H, what is the probability that it
            was the HH coin? Explain in laymanâ€™s terms.
        </p>
        <p>
            <strong><u>Solution:</u></strong> Finding the probability is trivial with Bayes' Theorem, so let's try to figure it out without using Bayes blindly and plugging numbers into a formula. 
            98 out of 100 coins are fair, and the remaining 2 are 
            one HH and one TT coin. Let's say we choose a coin at random, flip it, and it comes up heads. Our first, obvious, observation should be that there are 99 coins that it could possibly be, because the coin 
            cannot be the TT. Another important observation is that there is not an equal probability for each of the 99 coins to have been the one chosen. The 98 fair coins are identical and thus have the same 
            probability as each other to have been chosen, but the one unfair HH coin has a greater probability than any singular fair coin to have been chosen. However the fair coins outnumber the HH 98 to 1. 
            There are a total of 100 heads cumulatively. 2 out of the 100 belong to the HH. Therefore the probability of the coin being HH is 2/100 = 1/50. 
        </p>
        <p>
            That is pretty much the same thing as Bayes' Theorem, but we can still plug in some numbers into Bayes as a sanity check. Recall that Bayes tells us that 
            <span class="latex">\( \text{Pr}(\text{A}|\text{B}) = \text{Pr}(\text{A}|\text{B})\cdot\frac{\text{Pr}(\text{A})}{\text{Pr}(\text{B})} \)</span>. Therefore, 
            <span class="latex">\( \text{Pr}(\text{HH}|\text{H}) = \text{Pr}(\text{H}|\text{HH})\cdot\frac{\text{Pr}(\text{HH})}{\text{Pr}(\text{H})} = 1\cdot\frac{\frac{1}{100}}{\frac{1}{2}} = \frac{1}{2}\)</span>. The overall probability 
            of heads is 1/2 because the 100 coins are symmetrical with 98 fair coins and one each of HH and TT.
        </p>    

    </section>    
    <section id="coin-flipping-bet">
        <h3>Optimal Bet on 10,000 Flipped Coins</h2>
        <p>
            Flip 10,000 fair coins. You are offered a 1-1 bet that the sum is less than 5,000. You can bet $1, $2, ..., $100. How much will you bet? How much will you bet if someone tells you that the sum of the coins is less than 5,100?
        </p>
        <p> 
            <strong><u>Solution:</u></strong> Let's first consider the bet that the sum is less than 5,000. Without thinking, this is a fair bet. Formally, the number of heads, 
            <span class="latex">\( X \)</span>, is given by the Binomial distribution with parameters <span class="latex">\( n = 10000 \)</span> and <span class="latex">\( p = \frac{1}{2} \)</span>, 
            i.e., <span class="latex">\( X \sim \text{Binom}(10000, \frac{1}{2}) \)</span>. Because <span class="latex">\(X\)</span> follows the Binomial distribution, the expectation, 
            <span class = "latex">\(\mathbb{E}[X] = np = 10000\cdot\frac{1}{2} = 5000\)</span>, which is consistent with our intuition that it is a fair bet. The expectation is that half of the time we will win, doubling our money, and half of the time we will lose our money. 
            However, the variance of the distribution is nonzero and is given by <span class="latex">\( \text{Var}(X) = np(1-p) = 10000\cdot\frac{1}{2}\cdot\frac{1}{2} = 2500\)</span>. 
            Therefore, for a risk neutral or risk averse player, this bet will never be worth it because there is no compensation for risk taken.
        </p>
        <p>
            Now we will consider the bet that the sum is less than 5,100. The bet still pays out 1-1 odds. We can tell right off the bat that this is a better deal, but how much better? To find the probability of winning, we can approximate the 
            Binomial distribution to Normal. Recall that <span class="latex">\(\text{Binom}(n, p)\)</span> can be approximated as <span class="latex">\( \mathcal{N}(np, \sqrt{np(1-p)}) \)</span> for large <span class="latex">\(n\)</span>. 
            We can therefore approximate <span class="latex">\(\text{Binom}(10000, \frac{1}{2})\)</span> as <span class="latex">\( \mathcal{N}(5000, 50) \)</span>. For this Normal distribution, 5100 is two standard deviations up from the mean, so 
            the probability of flipping less than 5100 heads is about 0.975. Formally, <span class="latex">\( \Phi(2) \approx 0.975\)</span>. Now recall that according to the Kelly Criterion, the optimal proportion of bankroll wagered, <span class="latex">\( f^*\)</span>,
            is given by <span class="latex">\( f^* = \frac{bp-q}{b}\)</span>, where <span class="latex">\( b\)</span> is the odds of the wager minus 1, <span class="latex">\( p\)</span> is the probability of winning, and <span class="latex">\( q\)</span> is the probability of losing. 
            <span class="latex">\( f^* \)</span> is therefore <span class="latex">\( \frac{1\cdot0.975 - 0.025}{1} = 0.95\)</span> of our total bankroll of $100. Thus the optimal choice would be to bet $95. 
        </p>
    </section>

    <section id="dice-sum">
        <h3>Dice Sum to 63</h2>
        <p>
            Roll a die repeatedly. Say that you stop when the sum goes above 63. What is the probability that the
            second to last value was X. Make a market on this probability, i.e., what is your 90 percent confidence
            interval?
        <p> 
            <strong><u>Solution:</u></strong> 
        </p>
        
    </section>
        <section id="envelope-swap">
        <h3>Envelope Swap</h2>
        <p>
            There are closed envelopes with $2, $4, $8, $16, $32, and $64 lined up in sorted order in front of you.
            Two envelopes next to each other are picked up and shuffled. One is given to you and one is given to your
            friend. You and you friend then open your own envelopes, look inside, and then decide whether or not to
            offer to trade. If you both agree to trade, then you will swap. Assume you open your envelope and see
            $16. Should you offer to trade?
        <p> 
            <strong><u>Solution:</u></strong> We have the information that our envelope contains $16. That means that our friend either has $8 or $32, 
            each with prior probability <span class="latex">\( \frac{1}{2} \)</span>. 
        </p>
        <p> 
            Consider the case where our friend has $32. From his persepctive, I can either have $16 or $64. But I would never offer to trade if I had $64 because there is no upside to trading 
            when I already have the maximum amount. Therefore if our friend has $32 and offers to trade there will be no upside, because there is no chance of getting the $32 to $64 double-up. 
            So in this case our friend will never offer to trade in the first place.
        </p>
        <p>
            Going back down a layer to our original perspective, if we have $16, our friend will not offer to trade if they have the $32 envelope. The only way the trade will go through is if 
            our friend has the $8 envelope. So we should not offer to trade â€” the only way is down.
        </p>
        <p>
            This is of course assuming conventional utility functions for money for both players.
        </p>
    </section>

    </section>
        <section id="n-random-values">
        <h3>N Random Values</h2>
        <p>
            Generate N random values from a random variable where the value N comes from some other variable.
Make a market on the sum of the values.
        <p> 
            <strong><u>Solution:</u></strong>
        </p>

    </section>
        

<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.0/es5/tex-mml-chtml.min.js"></script>
</body>
</html>
